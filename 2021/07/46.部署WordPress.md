[TOC]

### 准备工作
```Shell
CentOS: 7.9
WordPress: 5.7.2
Nginx: 1.2.0
MySQL: 5.7
PHP: 7.4
```

关闭系统的防火墙和SELinux
```Shell
[root@localhost ~]# systemctl stop firewalld
[root@localhost ~]# systemctl disable firewalld
```

**vim /etc/sysconfig/selinux**
```Shell
SELINUX=enfdisabled  # 修改为disabled

SELINUXTYPE=targeted
```
重启系统
```Shell
[root@localhost ~]# init 6
```

### 安装Nginx

配置Nginx的官方yum源
```Shell
[root@localhost ~]# rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
```

yum安装nginx
```Shell
[root@localhost ~]# yum install nginx -y
```

启动nginx并设置开机自启动
```Shell
[root@localhost ~]# systemctl start nginx
[root@localhost ~]# systemctl enable nginx
```

### 安装MySQL

mysql可以使用CentOS自带的mariadb
```Shell
[root@localhost ~]# yum install mariadb-server mariadb -y
```

启动mysql并设置开机自启动
```Shell
[root@localhost ~]# systemctl start mariadb
[root@localhost ~]# systemctl enable mariadb
```

设置mysql的连接密码及远程访问权限
```Shell
[root@localhost ~]# mysql -uroot -p
```
**默认没有密码，直接回车进去就行**
```Shell
MariaDB [(none)]> set password for root@localhost=password('123456');
MariaDB [(none)]> grant all privileges on *.* to 'root'@'%' identified by 'nishengri';
MariaDB [(none)]> flush privileges;
```

### 安装PHP

CentOS7自带的php为5.4版本，最新的WordPress需要PHP7.3以上的支持，因此我们需要额外的配置去安装php7
```Shell
[root@localhost ~]# yum -y install https://rpms.remirepo.net/enterprise/remi-release-7.rpm
```

安装php7.4及其扩展
```Shell
[root@localhost ~]# yum install php74 -y
```

查看安装版本
```Shell
[root@localhost ~]# php74 -v
PHP 7.4.19 (cli) (built: May  4 2021 11:06:37) ( NTS )
Copyright (c) The PHP Group
Zend Engine v3.4.0, Copyright (c) Zend Technologies
```

### 部署WordPress

下载软件包
```Shell
[root@localhost tmp]# wget https://cn.wordpress.org/latest-zh_CN.tar.gz
```

创建wordpress项目存放的目录及日志目录
```Shell
[root@localhost tmp]# mkdir /data
[root@localhost tmp]# mkdir /data/log
```

将源码解压到**/data**目录下
```Shell
[root@localhost tmp]# tar -zxvf latest-zh_CN.tar.gz -C /data
```

配置Nginx
```Shell
[root@localhost data]# cd /etc/nginx/conf.d/
[root@localhost conf.d]# cp -rp default.conf wordpress.conf
```

**vim wordpress.conf**
```Shell

```

重启nginx
```Shell
[root@localhost conf.d]# systemctl restart nginx
```

打开浏览器，访问**http://127.0.0.1/index.php**